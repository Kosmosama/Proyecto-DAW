<div class="card w-100">
  <div class="card-header">
    <h2>Search players</h2>
    <input type="text" class="form-control" placeholder="Buscar por nombre" [(ngModel)]="searchValue" />
  </div>
  <div class="card-body">
    @if (allPlayers().length === 0 && searchTerm() == "") {
      <p>Start searching rivals!</p>
    }
    @if (allPlayers().length === 0 && searchTerm() !== "") {
      <p>No player found with given criteria.</p>
    }

    <ul class="list-group">
      @for (player of visiblePlayers(); track $index) {
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span>{{ player.username }} <span class="text-muted"> # {{ player.tag }}</span></span>
          <button class="btn btn-primary btn-sm" (click)="addFriend(player)">Add friend</button>
        </li>
      }
    </ul>

    @if (totalPlayers() > 9) {
      <div class="pagination mt-3 d-flex justify-content-between">
        <button class="btn btn-secondary btn-sm" (click)="changePage(currentPage() - 1)" [disabled]="currentPage() === 1">
          Previous
        </button>
        <button class="btn btn-secondary btn-sm" (click)="changePage(currentPage() + 1)" [disabled]="currentPage() * 9 >= totalPlayers()">
          Next
        </button>
      </div>
    }
  </div>
</div>
